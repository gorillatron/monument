

<div class="wrapper" id="event_signup_form">

  <script src='https://www.google.com/recaptcha/api.js'></script>

  <% if(flash && flash.messages) { %>

    <div class="flash row <%= flash.error ? 'error' : '' %>">

      <div class="col-sm-12">
        <ul class="list-unstyled">
          <% flash.messages.forEach(function(message) { %>
              <li> <%= message %> </li>
          <% }) %>
        <ul>
      </div>

    </div>

  <% } %>

  <div class="row">

    <div class="col-sm-12">

      <p>
        Om du vil ha informasjon om fremtidige offentlige samt private arrangementer meld deg på her. Du vil ikke bli spammet.
      </p>

      <form id="eventsignupform" class="form" action="/subscribe" method="post">

        <div class="form-group">
          <input type="text" name="name" class="form-control" placeholder="Fornavn + Etternavn" required value="<%= formdata ? formdata.name : '' %>">
        </div>

        <div class="form-group">
          <i> ~ samt ~ </i>
          <input type="text" name="phoneNumber" class="form-control" placeholder="Norskt Mobilnummer" value="<%= formdata ? formdata.phoneNumber : '' %>">
          <i> ~ og/eller ~ </i>
          <input type="email" name="email" class="form-control" placeholder="Epost" value="<%= formdata ? formdata.email : '' %>">
        </div>

        <div class="form-group">
          <div class="g-recaptcha <%= formdata ? 'active' : 'inactive' %>" data-sitekey="6LeGFQUTAAAAACGv1lGJhopCrDE4aHojBO3bLvns"></div>
        </div>

        <button type="submit" name="button" class="btn btn-success btn-lg">meld meg på</button>
      </form>
    </div>

  </div>


  <script charset="utf-8">

    Array.prototype.slice.call(document.querySelectorAll('input')).forEach(function(input){
      input.addEventListener('keyup', function(event) {
        document.querySelector('.g-recaptcha').setAttribute('class', 'g-recaptcha active')
      })
    })

    setTimeout(function() {
      document.querySelector('#mainwrapper').setAttribute('class', 'wrapper show')
    }, 180)

  </script>

</div>
